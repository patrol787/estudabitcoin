<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Jogo educativo sobre Bitcoin. Ficheiros do jogo na pasta /jogo.">
  <title>Joga | Estuda Bitcoin</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <a href="#main" class="skip-link">Saltar para o conteúdo</a>

  <header class="site-header" role="banner">
    <div class="header-inner">
      <a href="index.html" class="site-logo">Estuda<span>Bitcoin</span></a>
      <button type="button" class="nav-toggle" aria-label="Abrir menu" aria-expanded="false" aria-controls="nav-main">
        <span aria-hidden="true">☰</span>
      </button>
      <nav id="nav-main" role="navigation" aria-label="Navegação principal">
        <ul class="nav-list">
          <li><a href="index.html">Início</a></li>
          <li><a href="aprende.html">Aprende</a></li>
          <li><a href="joga.html" aria-current="page">Joga</a></li>
          <li><a href="recursos.html">Recursos</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main id="main" role="main">
    <section class="game-section" aria-labelledby="game-heading">
      <h1 id="game-heading">Jogo Educativo</h1>
      <a href="jogo/index.html" id="game-thumbnail-link" target="_blank" rel="noopener noreferrer" class="game-thumbnail-card" aria-label="Abrir Bitcoin Quiz numa nova janela">
        <span class="game-thumbnail-img-wrap">
          <img src="jogo/assets/bitcoin-coin.png" alt="" class="game-thumbnail">
        </span>
        <span class="game-thumbnail-title">Bitcoin Quiz</span>
        <span class="game-thumbnail-cta">Clica para abrir</span>
      </a>
      <div class="game-card" id="game-card-local">
        <p class="game-card-desc">Testa o teu conhecimento sobre Bitcoin com o quiz educativo.</p>
        <p class="game-steps"><strong>Para jogar em desenvolvimento local:</strong></p>
        <ol class="game-steps-list">
          <li>Inicia <strong>start-game.command</strong> (duplo-clique na pasta do site) e espera aparecer no Terminal: <code>Local: http://127.0.0.1:3001/</code></li>
          <li>Clica num dos links abaixo (o jogo abre numa nova aba):</li>
        </ol>
        <p class="game-links">
          <a href="http://localhost:3001" target="_blank" rel="noopener noreferrer" class="btn btn-primary game-btn">Abrir jogo (localhost:3001)</a>
          <a href="http://127.0.0.1:3001" target="_blank" rel="noopener noreferrer" class="btn btn-outline game-btn">Abrir jogo (127.0.0.1:3001)</a>
        </p>
        <p class="game-note">Se o jogo não abrir, o start-game.command não está a correr. Abre-o primeiro.</p>
      </div>
      <div class="game-card" id="game-card-prod" style="display:none;">
        <p class="game-card-desc">Testa o teu conhecimento sobre Bitcoin com o quiz educativo.</p>
        <p class="game-thumbnail-wrap"><img src="jogo/assets/bitcoin-coin.png" alt="Bitcoin Quiz" class="game-thumbnail"></p>
        <a href="jogo/index.html" target="_blank" rel="noopener noreferrer" class="btn btn-primary game-btn">Jogar Bitcoin Quiz</a>
        <p class="game-note">O jogo abre numa nova aba. Quando terminares, fecha a aba ou volta ao separador do site.</p>
      </div>
    </section>
  </main>

  <footer class="site-footer" role="contentinfo">
    <div class="footer-inner">
      <p class="footer-disclaimer"><strong>Privacidade.</strong> Este site não utiliza cookies nem scripts de rastreio. O alojamento é fornecido pelo GitHub, sujeito à sua política de privacidade.</p>
    </div>
  </footer>

  <script>
    (function() {
      var toggle = document.querySelector('.nav-toggle');
      var nav = document.querySelector('.nav-list');
      if (toggle && nav) {
        toggle.addEventListener('click', function() {
          var open = nav.classList.toggle('is-open');
          toggle.setAttribute('aria-expanded', open);
          toggle.setAttribute('aria-label', open ? 'Fechar menu' : 'Abrir menu');
        });
      }
      // Em desenvolvimento local: mostramos instruções e links diretos para :3001; o thumbnail abre o jogo na mesma URL
      var cardLocal = document.getElementById('game-card-local');
      var cardProd = document.getElementById('game-card-prod');
      var thumbLink = document.getElementById('game-thumbnail-link');
      var isLocal = (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1');
      if (thumbLink && isLocal) {
        thumbLink.href = 'http://' + window.location.hostname + ':3001';
      }
      if (cardLocal && cardProd) {
        if (isLocal) {
          cardLocal.style.display = 'block';
          cardProd.style.display = 'none';
        } else {
          cardLocal.style.display = 'none';
          cardProd.style.display = 'block';
        }
      }
    })();
  </script>
</body>
</html>
